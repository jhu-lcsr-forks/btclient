#This is an example WAM configuration file

system{
    busCount = 1
    bus[]{
        type = "CAN"                # Type of bus
        device = "/dev/can0"        # Communication device
        address = 0                 # Address of robot
        name = "WAM4"               # Name of the robot
    }
    bus[]{
        type = "Ethernet"           # Type of bus
        device = "eth0"             # Communication device
        address = "192.168.139.65"  # Address of robot
        name = "EtherWAM"           # Name of the robot
    }
}

MOT1{
  name = "Single motor"
  dof = 1;
  home = <0.0, 0.0, 0.0, 0.0>
  world = <<1,0,0>,<0,1,0>,<0,0,1>> # World -> Base frame transform

    tool = <<1,2,3,3>,<1,2,3,3>,<1,2,3,3>> # Lastframe -> Toolframe transform
  # Transmission ratios
  N = <1, 1, 1, 1, 1, 1, 1>
  n = <1, 1, 1, 1, 1, 1, 1>
    m2jp = <<1,0,0,0,0,0,0>,<0,.017699,-.017699,0,0,0,0>,<0,-.0297345,-.0297345,0,0,0,0>,<0,0,0,.0555556,0,0,0>,<0,0,0,0,.0486855,.0486855,0>,<0,0,0,0,-.0486855,.0486855,0>,<0,0,0,0,0,0,-.0669792>>
    j2mt = <<1,0,0,0,0,0,0>,<0,.017699,-.0297345,0,0,0,0>,<0,-.017699,-.0297345,0,0,0,0>,<0,0,0,.0555556,0,0,0>,<0,0,0,0,.0486855,-.0486855,0>,<0,0,0,0,.0486855,.0486855,0>,<0,0,0,0,0,0,-.0669792>>
    safety{
        tipFaultVel = 2.0   # Endtip velocity fault threshold (m/s)
        tipWarnVel = 0.5    # Endtip velocity warning threshold (m/s)
        faultTrq = 8.4      # Motor torque fault threshold (Nm)
        warnTrq = 5.0       # Motor torque warning threshold (Nm)
    }
  link[0]{
        name = "M1"
        
        mass = 1.0                      # Mass of link (kg)
        com = <0.0, 0.0, 0.0>    # Center of mass (m)
        vel = 100                       # Default velocity (rad/s)
        acc = 100                       # Default acceleration (rad/s^2)
        
        pid{ # PID control parameters
            kp = .1
            ki = 0.0000
            kd = .001
            max = 8191 # abs(jointTorque) is bounded to this value
        }
        
        dh{ # Denavit-Hartenberg parameters (Spong)
            theta = 0.0 # (multiplied by pi)
            d = 0.0
            a = 0.0
            alpha = 0.0 # (multiplied by pi)
        }
    }
    link[1]{
        name = "Tool"
        
        mass = 0.0 #0.3460
        com = <0.0, 0.0, 0.05>
        
        dh{
            theta = 0.0 # (multiplied by pi)
            d = 0.0
            a = 0.0
            alpha = 0.0 # (multiplied by pi)
        }
    }
}

WAM4{
    name = "Barrett's \#1 \"Slammin'\" \\/\\/AM" # Cool name
    dof = 4                         # Degrees of freedom
    home = <0.0, -1.99, 0.0, +3.14>  # Home position of each joint (rad)
# home = <0.0, 0.0, 0.0, 0.0>  # Home position of each joint (rad)
    
    world = <<1,0,0>,<0,1,0>,<0,0,1>> # World -> Base frame transform
# world = <<1,0,0>,<0,-1,0>,<0,0,-1>> # World -> Base frame transform (upside down)
#world = <<0,0,1>,<0,1,0>,<1,0,0>> # World -> Base frame transform
    tool = <<1,2,3,3>,<1,2,3,3>,<1,2,3,3>> # Lastframe -> Toolframe transform

    
    safety{
        tipFaultVel = 2.0   # Endtip velocity fault threshold (m/s)
        tipWarnVel = 0.5    # Endtip velocity warning threshold (m/s)
        faultTrq = 8.4      # Motor torque fault threshold (Nm)
        warnTrq = 5.0       # Motor torque warning threshold (Nm)
    }

    # Transmission ratios
    N = <42, 28.25, 28.25, 18>
    n = <0, 0, 1.68, 0>
    
    # Motor to Join transform matrices
    m2jp = <<-.0238095,0,0,0,0,0,0>,<0,.017699,-.017699,0,0,0,0>,<0,-.0297345,-.0297345,0,0,0,0>,<0,0,0,.0555556,0,0,0>,<0,0,0,0,.0486855,.0486855,0>,<0,0,0,0,-.0486855,.0486855,0>,<0,0,0,0,0,0,-.0669792>>
    j2mt = <<-.0238095,0,0,0,0,0,0>,<0,.017699,-.0297345,0,0,0,0>,<0,-.017699,-.0297345,0,0,0,0>,<0,0,0,.0555556,0,0,0>,<0,0,0,0,.0486855,-.0486855,0>,<0,0,0,0,.0486855,.0486855,0>,<0,0,0,0,0,0,-.0669792>>
    
    link[]{
        name = "Base"
        
        # Denavit-Hartenberg parameters (Spong)
        # Defines the transformation from the previous frame to this link's frame
        dh{ 
            theta = 0.0 # (multiplied by pi)
            d = 0.0
            a = 0.0
            alpha = -0.5 # (multiplied by pi)
        }
        
        # Mass of this link (kg)
        mass = 8.3936
        
        # Center of mass (m), xyz translation from this link's frame
        com = <0.0003506, 0.1326795, 0.0006286>
        
        # Inertial matrix, chosen at this link's frame
        I = <<242919.8516E-6,636.5542E-6,-93.1687E-6>,<636.5542E-6,92036.7003E-6,-262.6549E-6>,<-93.1687E-6,-262.6542E-6,207050.7372E-6>>
        
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 1800
            ki = 5
            kd = 20
            max = 8191 # abs(jointTorque) is bounded to this value
        }
    }
    link[]{
        name = "Pitch"

        # Denavit-Hartenberg parameters (Spong)
        # Defines the transformation from the previous frame to this link's frame
        dh{
            theta = 0.0 # (multiplied by pi)
            d = 0.0
            a = 0.0
            alpha = 0.5 # (multiplied by pi)
        }

        # Mass of this link (kg)
        mass = 4.8487
        
        # Center of mass (m), xyz translation from this link's frame
        com = <-0.0002230, -0.0213924, 0.0133754>
        
        # Inertial matrix, chosen at this link's frame
        I = <<32413.1852E-6,-20.2663E-6,-143.7579E-6>,<-20.2663E-6,21649.2574E-6,-38.6737E-6>,<-143.7579E-6,-38.6737E-6,25026.5101E-6>>
        
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 5500
            ki = 10
            kd = 40
            max = 8191 # abs(jointTorque) is bounded to this value
        }
    }
    link[]{
        name = "Twist"

        # Denavit-Hartenberg parameters (Spong)
        # Defines the transformation from the previous frame to this link's frame
        dh{
            theta = 0.0 # (multiplied by pi)
            d = 0.550
            a = 0.045
            alpha = -0.5 # (multiplied by pi)
        }

        # Mass of this link (kg)
        mass = 1.7251

        # Center of mass (m), xyz translation from this link's frame
        com = <-0.0387565, 0.2179078, 0.0000252>
        
        # Inertial matrix, chosen at this link's frame
        I = <<138575.0448E-6,-16890.4832E-6,6.5293E-6>,<-16890.4832E-6,5749.2209E-6,-7.1669E-6>,<6.5293E-6,-7.1669E-6,141310.5180E-6>>
        
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 1200
            ki = 5
            kd = 20
            max = 8191 # abs(jointTorque) is bounded to this value
        }
    }
    link[]{
        name = "Elbow"
        
        # Denavit-Hartenberg parameters (Spong)
        # Defines the transformation from the previous frame to this link's frame
        dh{ # Denavit-Hartenberg parameters (Spong)
            theta = 0.0 # (multiplied by pi)
            d = 0.0
            a = -0.045
            alpha = 0.5 # (multiplied by pi)
        }
        
        # Mass of this link (kg)
        mass = 1.0912
        
        # Center of mass (m), xyz translation from this link's frame
        com = <0.0117534, -0.0001092, 0.1359144>
        
        # Inertial matrix, chosen at this link's frame
        I = <<39049.0802E-6,-2.2101E-6,21.9187E-6>,<-2.2101E-6,39649.6217E-6,1.6243E-6>,<21.9187E-6,1.6243E-6,2177.6044E-6>>
        
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 1000
            ki = 1
            kd = 5
            max = 8191 # abs(jointTorque) is bounded to this value
        }
    }
    link[]{
        name = "Tool"
        
        # Denavit-Hartenberg parameters (Spong)
        # Defines the transformation from the previous frame to this link's frame
        dh{
            theta = 0.0 # (multiplied by pi)
            d = 0.440 #0.356 #0.440
            a = 0.0
            alpha = 0.0 # (multiplied by pi)
        }
        
        # Mass of the tool (kg)
        # Haptic ball = 0.346
        # BarrettHand = 1.2
        mass = 0
        
        # Center of mass (m), xyz translation from the tool frame
        com = <0.0, 0.0, 0.0>
        
        # Inertial matrix, chosen at this link's frame
        I = <<0,0,0>,<0,0,0>,<0,0,0>>
        
    }
}

WAM7{
    name = "4 DOF WAM with 3 DOF Wrist" # Cool name
    dof = 7                         # Degrees of freedom
    home = <0.0, -1.9, 0.0, +3.14, 0.0, 0.0, 0.0>  # Home position of each joint (rad)
    
    world = <<1,0,0>,<0,1,0>,<0,0,1>> # World -> Base frame transform
    //world = <<0,0,1>,<0,1,0>,<1,0,0>> # World -> Base frame transform
    tool = <<1,2,3,3>,<1,2,3,3>,<1,2,3,3>> # Lastframe -> Toolframe transform

    safety{
        tipFaultVel = 2.0   # Endtip velocity fault threshold (m/s)
        tipWarnVel = 0.5    # Endtip velocity warning threshold (m/s)
        faultTrq = 8.4      # Motor torque fault threshold (Nm)
        warnTrq = 5.0       # Motor torque warning threshold (Nm)
    }

    # Transmission ratios
    N = <42, 28.25, 28.25, 18, 10.27, 10.27, 14.93>
    n = <0, 0, 1.68, 0, 0, 1, 0>
    m2jp = <<-.0238095,0,0,0,0,0,0>,<0,.017699,-.017699,0,0,0,0>,<0,-.0297345,-.0297345,0,0,0,0>,<0,0,0,.0555556,0,0,0>,<0,0,0,0,.0486855,.0486855,0>,<0,0,0,0,-.0486855,.0486855,0>,<0,0,0,0,0,0,-.0669792>>
    j2mt = <<-.0238095,0,0,0,0,0,0>,<0,.017699,-.0297345,0,0,0,0>,<0,-.017699,-.0297345,0,0,0,0>,<0,0,0,.0555556,0,0,0>,<0,0,0,0,.0486855,-.0486855,0>,<0,0,0,0,.0486855,.0486855,0>,<0,0,0,0,0,0,-.0669792>>

    link[]{
        name = "Base"
        
        # Denavit-Hartenberg parameters (Spong)
        # Defines the transformation from the previous frame to this link's frame
        dh{ 
            theta = 0.0 # (multiplied by pi)
            d = 0.0
            a = 0.0
            alpha = -0.5 # (multiplied by pi)
        }
        
        # Mass of this link (kg)
        mass = 8.3936
        
        # Center of mass (m), xyz translation from this link's frame
        com = <0.0003506, 0.1326795, 0.0006286>
        
        # Inertial matrix, chosen at this link's frame
        I = <<242919.8516E-6,636.5542E-6,-93.1687E-6>,<636.5542E-6,92036.7003E-6,-262.6549E-6>,<-93.1687E-6,-262.6542E-6,207050.7372E-6>>
        
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 1800
            ki = 5
            kd = 20
            max = 8191 # abs(jointTorque) is bounded to this value
        }
    }
    link[]{
        name = "Pitch"

        # Denavit-Hartenberg parameters (Spong)
        # Defines the transformation from the previous frame to this link's frame
        dh{
            theta = 0.0 # (multiplied by pi)
            d = 0.0
            a = 0.0
            alpha = 0.5 # (multiplied by pi)
        }

        # Mass of this link (kg)
        mass = 4.8487
        
        # Center of mass (m), xyz translation from this link's frame
        com = <-0.0002230, -0.0213924, 0.0133754>
        
        # Inertial matrix, chosen at this link's frame
        I = <<32413.1852E-6,-20.2663E-6,-143.7579E-6>,<-20.2663E-6,21649.2574E-6,-38.6737E-6>,<-143.7579E-6,-38.6737E-6,25026.5101E-6>>
        
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 5500
            ki = 10
            kd = 40
            max = 8191 # abs(jointTorque) is bounded to this value
        }
    }
    link[]{
        name = "Twist"

        # Denavit-Hartenberg parameters (Spong)
        # Defines the transformation from the previous frame to this link's frame
        dh{
            theta = 0.0 # (multiplied by pi)
            d = 0.550
            a = 0.045
            alpha = -0.5 # (multiplied by pi)
        }

        # Mass of this link (kg)
        mass = 1.7251

        # Center of mass (m), xyz translation from this link's frame
        com = <-0.0387565, 0.2179078, 0.0000252>
        
        # Inertial matrix, chosen at this link's frame
        I = <<138575.0448E-6,-16890.4832E-6,6.5293E-6>,<-16890.4832E-6,5749.2209E-6,-7.1669E-6>,<6.5293E-6,-7.1669E-6,141310.5180E-6>>
        
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 1200
            ki = 5
            kd = 20
            max = 8191 # abs(jointTorque) is bounded to this value
        }
    }
    link[]{
	     name = "Elbow + Wrist body"

        # Denavit-Hartenberg parameters (Spong)
        # Defines the transformation from the previous frame to this link's frame
        dh{
            theta = 0.0 # (multiplied by pi)
            d = 0.0
            a = -0.045
            alpha = 0.5 # (multiplied by pi)
        }
        
        # Mass of this link (kg)
        mass = 2.0824
        
        # Center of mass (m), xyz translation from this link's frame
        com = <0.0062895, 0.0, 0.1110633>
        
        # Inertial matrix, chosen at this link's frame
        I = <<35752.4193E-6,14.5876E-6,62.1491E-6>,<14.5876E-6,35769.9341E-6,29.2508E-6>,<62.1491E-6,29.2508E-6,2921.3314E-6>>
        
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 1000
            ki = 1
            kd = 5
            max = 8191 # abs(jointTorque) is bounded to this value
        }
    }
    link[]{
	     name = "Wrist Yaw"
        
        # Denavit-Hartenberg parameters (Spong)
        # Defines the transformation from the previous frame to this link's frame
        dh{
            theta = 0.0 # (multiplied by pi)
            d = 0.3
            a = 0.0
            alpha = -0.5 # (multiplied by pi)
        }
        
        # Mass of this link (kg)
        mass = 0.3067
        
        # Center of mass (m), xyz translation from this link's frame
        com = <0.0000584, 0.0283754, 0.0001902>
        
        # Inertial matrix, chosen at this link's frame
        I = <<567.9724E-6,0.4416E-6,-0.0045E-6>,<0.4416E-6,172.3759E-6,-0.8172E-6>,<-0.0045E-6,-0.8172E-6,597.6265E-6>>
        
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 100
            kd = .5
            ki = .5
            max = 8191 # abs(jointTorque) is bounded to this value
        }
    }
    link[]{
	     name = "Wrist Pitch"
        
        # Denavit-Hartenberg parameters (Spong)
        # Defines the transformation from the previous frame to this link's frame
        dh{ 
            theta = 0.0 # (multiplied by pi)
            d = 0.0
            a = 0.0
            alpha = 0.5 # (multiplied by pi)
        }
        
        # Mass of this link (kg)
        mass = 0.4278
        
        # Center of mass (m), xyz translation from this link's frame
        com = <-0.0000311, -0.0148635, 0.0256326> 
        
        # Inertial matrix, chosen at this link's frame
        I = <<979.8079E-6,0.2804E-6,-0.5308E-6>,<0.2804E-6,550.3998E-6,-225.3322E-6>,<-0.5308E-6,-225.3322E-6,602.4224E-6>>
        
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 100
            kd = .5
            ki = .5
            max = 8191 # abs(jointTorque) is bounded to this value
        }
        
    }
    link[]{
	     name = "Wrist Roll"
        
        # Denavit-Hartenberg parameters (Spong)
        # Defines the transformation from the previous frame to this link's frame
        dh{ # Denavit-Hartenberg parameters (Spong)
            theta = 0.0 # (multiplied by pi)
            d = 0.0609
            a = 0.0
            alpha = 0.0 # (multiplied by pi)
        }
        
        # Mass of this link (kg)
        mass = 0.0557
        
        # Center of mass (m), xyz translation from this link's frame
        com = <0.0, -0.0001823, -0.2847431>
        
        # Inertial matrix, chosen at this link's frame
        I = <<4536.8120E-6,-0.0001E-6,0.0011E-6>,<-0.0001E-6,4537.0156E-6,2.8944E-6>,<0.0011E-6,2.8944E-6,42.1994E-6>>
        
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 10 #40
            kd = .1
            ki = .1
            max = 8191 # abs(jointTorque) is bounded to this value
        }
    }
    link[]{
        name = "Tool"
        
        # Denavit-Hartenberg parameters (Spong)
        # Defines the transformation from the previous frame to this link's frame
        dh{
            theta = 0.0 # (multiplied by pi)
            d = 0.0 #0.095 (haptic ball)
            a = 0.0
            alpha = 0.0 # (multiplied by pi)
        }
        
        # Mass of the tool (kg)
        mass = 0.0 #0.3460 (haptic ball)
        
        # Center of mass (m), xyz translation from the tool frame
        com = <0.0, 0.0, -0.045>
        
        # Inertial matrix, chosen at this link's frame
        I = <<0,0,0>,<0,0,0>,<0,0,0>>
        
    }
}

WAM8{
    name = "4 DOF WAM with 3 DOF Wrist and more" # Cool name
    dof = 8                         # Degrees of freedom
    home = <0.0, -1.9, 0.0, +3.14, 0.0, 0.0, 0.0, 0.0>  # Home position of each joint (rad)
    
    world = <<1,0,0>,<0,1,0>,<0,0,1>> # World -> Base frame transform
    //world = <<0,0,1>,<0,1,0>,<1,0,0>> # World -> Base frame transform
    tool = <<1,2,3,3>,<1,2,3,3>,<1,2,3,3>> # Lastframe -> Toolframe transform

    
    safety{
        tipFaultVel = 2.0   # Endtip velocity fault threshold (m/s)
        tipWarnVel = 0.5    # Endtip velocity warning threshold (m/s)
        faultTrq = 8.4      # Motor torque fault threshold (Nm)
        warnTrq = 5.0       # Motor torque warning threshold (Nm)
    }

    # Transmission ratios
    N = <42, 28.25, 28.25, 18, 10.27, 10.27, 14.93, 1.0>
    n = <0, 0, 1.68, 0, 0, 1, 0, 0>
    m2jp = <<-.0238095,0,0,0,0,0,0,0>,<0,.017699,-.017699,0,0,0,0,0>,<0,-.0297345,-.0297345,0,0,0,0,0>,<0,0,0,.0555556,0,0,0,0>,<0,0,0,0,.0486855,.0486855,0,0>,<0,0,0,0,-.0486855,.0486855,0,0>,<0,0,0,0,0,0,-.0669792,0>,<0,0,0,0,0,0,0,1>>
    j2mt = <<-.0238095,0,0,0,0,0,0,0>,<0,.017699,-.0297345,0,0,0,0,0>,<0,-.017699,-.0297345,0,0,0,0,0>,<0,0,0,.0555556,0,0,0,0>,<0,0,0,0,.0486855,-.0486855,0,0>,<0,0,0,0,.0486855,.0486855,0,0>,<0,0,0,0,0,0,-.0669792,0>,<0,0,0,0,0,0,0,1>>

    link[]{
        name = "Base"
        
        mass = 8.3936                   # Mass of link (kg)
        com = <0.0003506, 0.1326795, 0.0006286>    # Center of mass (m)
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 1800
            ki = 5
            kd = 20
            max = 8191 # abs(jointTorque) is bounded to this value
        }
        
        dh{ # Denavit-Hartenberg parameters (Spong)
            theta = 0.0 # (multiplied by pi)
            d = 0.0
            a = 0.0
            alpha = -0.5 # (multiplied by pi)
        }
    }
    link[]{
        name = "Pitch"
        
        mass = 4.8487                       # Mass of link (kg)
        com = <-0.0002230, -0.0213924, 0.0133754>    # Center of mass (m)
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 4500
            ki = 10
            kd = 60
            max = 8191 # abs(jointTorque) is bounded to this value
        }
        
        dh{ # Denavit-Hartenberg parameters (Spong)
            theta = 0.0 # (multiplied by pi)
            d = 0.0
            a = 0.0
            alpha = 0.5 # (multiplied by pi)
        }
    }
    link[]{
        name = "Twist"
        
        mass = 1.7251                        # Mass of link (kg)
        com = <-0.0387565, 0.2179078, 0.0000252>    # Center of mass (m)
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 800
            ki = 5
            kd = 20
            max = 8191 # abs(jointTorque) is bounded to this value
        }
        
        dh{ # Denavit-Hartenberg parameters (Spong)
            theta = 0.0 # (multiplied by pi)
            d = 0.550
            a = 0.045
            alpha = -0.5 # (multiplied by pi)
        }
    }
    link[]{
	      name = "Elbow + Wrist body"
        
        mass = 2.0824                    # Mass of link (kg)
        com = <0.0062895, 0.0, 0.1110633>    # Center of mass (m)
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 1000
            ki = 1
            kd = 5
            max = 8191 # abs(jointTorque) is bounded to this value
        }
        
        dh{ # Denavit-Hartenberg parameters (Spong)
            theta = 0.0 # (multiplied by pi)
            d = 0.0
            a = -0.045
            alpha = 0.5 # (multiplied by pi)
        }
    }
    link[]{
	      name = "Wrist Yaw"
        
        mass = 0.3067                    # Mass of link (kg)
        com = <0.0000584, 0.0283754, 0.0001902>    # Center of mass (m)
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 100
            kd = .5
            ki = .5
            max = 8191 # abs(jointTorque) is bounded to this value
        }
        
        dh{ # Denavit-Hartenberg parameters (Spong)
            theta = 0.0 # (multiplied by pi)
            d = 0.3
            a = 0.0
            alpha = -0.5 # (multiplied by pi)
        }
    }
    link[]{
	      name = "Wrist Pitch"
        
        mass = 0.4278                       # Mass of link (kg)
        com = <-0.0000311, -0.0148635, 0.0256326>    # Center of mass (m)
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 100
            kd = .5
            ki = .5
            max = 8191 # abs(jointTorque) is bounded to this value
        }
        
        dh{ # Denavit-Hartenberg parameters (Spong)
            theta = 0.0 # (multiplied by pi)
            d = 0.0
            a = 0.0
            alpha = 0.5 # (multiplied by pi)
        }
    }
    link[]{
	     name = "Wrist Roll"
        
        mass = 0.0557                       # Mass of link (kg)
        com = <0.0, -0.0001823, -0.2847431>    # Center of mass (m)
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 10 #40
            kd = .1
            ki = .1
            max = 8191 # abs(jointTorque) is bounded to this value
        }
        
        dh{ # Denavit-Hartenberg parameters (Spong)
            theta = 0.0 # (multiplied by pi)
            d = 0.0609
            a = 0.0
            alpha = 0.0 # (multiplied by pi)
        }
    }
    link[]{
        name = "Sprayer"
        
        mass = 0.5
        com = <0.0, 0.0, -0.15>
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 10 #40
            kd = .1
            ki = .1
            max = 8191 # abs(jointTorque) is bounded to this value
        }
        
        dh{
            theta = 0.0 # (multiplied by pi)
            d = 0.20
            a = 0.0
            alpha = 0.0 # (multiplied by pi)
        }
    }
    link[]{
        name = "Tool"
        
        mass = 0.0
        com = <0.0, 0.0, 0.0>
        
        dh{
            theta = 0.0 # (multiplied by pi)
            d = 0.0
            a = 0.0
            alpha = 0.0 # (multiplied by pi)
        }
    }
}

WAMG{
    name = "4 DOF WAM with gimbals" # Cool name
    dof = 7                         # Degrees of freedom
    home = <0.0, -1.9, 0.0, +2.46, 0.0, 0.0, 0.0>  # Home position of each joint (rad)
    
    world = <<1,0,0>,<0,1,0>,<0,0,1>> # World -> Base frame transform
    //world = <<0,0,1>,<0,1,0>,<1,0,0>> # World -> Base frame transform
    tool = <<1,2,3,3>,<1,2,3,3>,<1,2,3,3>> # Lastframe -> Toolframe transform

    
    safety{
        tipFaultVel = 2.0   # Endtip velocity fault threshold (m/s)
        tipWarnVel = 0.5    # Endtip velocity warning threshold (m/s)
        faultTrq = 8.4      # Motor torque fault threshold (Nm)
        warnTrq = 5.0       # Motor torque warning threshold (Nm)
    }

    # Transmission ratios
    
    N = <42, 28.25, 28.25, 18, 1, 1, 1>
    n = <0, 0, 1.68, 0, 1, 1, 1>
    
    m2jp = <<-.0238095,0,0,0,0,0,0>,<0,.017699,-.017699,0,0,0,0>,<0,-.0297345,-.0297345,0,0,0,0>,<0,0,0,.0555556,0,0,0>,<0,0,0,0,1,0,0>,<0,0,0,0,0,1,0>,<0,0,0,0,0,0,1>>
    j2mt = <<-.0238095,0,0,0,0,0,0>,<0,.017699,-.0297345,0,0,0,0>,<0,-.017699,-.0297345,0,0,0,0>,<0,0,0,.0555556,0,0,0>,<0,0,0,0,1,0,0>,<0,0,0,0,0,1,0>,<0,0,0,0,0,0,1>>
    
    link[]{
        name = "Base"
        
        mass = 12.044                      # Mass of link (kg)
        com = <0.0, 0.1405, -0.0061>    # Center of mass (m)
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 1800
            ki = 5
            kd = 20
            max = 8191 # abs(jointTorque) is bounded to this value
        }
        
        dh{ # Denavit-Hartenberg parameters (Spong)
            theta = 0.0 # (multiplied by pi)
            d = 0.0
            a = 0.0
            alpha = -0.5 # (multiplied by pi)
        }
    }
    link[]{
        name = "Pitch"
        
        mass = 5.903                       # Mass of link (kg)
        com = <0.0, -0.0166, 0.0096>    # Center of mass (m)
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 3500 #5500
            ki = 1 #10
            kd = 5 #60
            max = 8191 # abs(jointTorque) is bounded to this value
        }
        
        dh{ # Denavit-Hartenberg parameters (Spong)
            theta = 0.0 # (multiplied by pi)
            d = 0.0
            a = 0.0
            alpha = 0.5 # (multiplied by pi)
        }
    }
    link[]{
        name = "Twist"
        
        mass = 2.08                        # Mass of link (kg)
        com = <-0.0443, 0.2549, 0.0>    # Center of mass (m)
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 1000 #1200
            ki = 1 #5
            kd = 5 #20
            max = 8191 # abs(jointTorque) is bounded to this value
        }
        
        dh{ # Denavit-Hartenberg parameters (Spong)
            theta = 0.0 # (multiplied by pi)
            d = 0.550
            a = 0.045
            alpha = -0.5 # (multiplied by pi)
        }
    }
    link[]{
	      name = "Elbow + Wrist body"
        
        mass = 1.34                    # Mass of link (kg)
        com = <-.2346, 0.0, 0.029>    # Center of mass (m)
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 0
            ki = 0
            kd = 0
            max = 8191 # abs(jointTorque) is bounded to this value
        }
        
        dh{ # Denavit-Hartenberg parameters (Spong)
            theta = -0.5 # (multiplied by pi)
            d = 0.0
            a = 0.4
            alpha = -0.5 # (multiplied by pi)
        }
    }
    link[]{
	      name = "Wrist Yaw"
        
        mass = 0.98                       # Mass of link (kg)
        com = <0.0, -.1196, .0405>    # Center of mass (m)
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 0
            kd = 0
            ki = 0
            max = 8191 # abs(jointTorque) is bounded to this value
        }
        
        dh{ # Denavit-Hartenberg parameters (Spong)
            theta = -0.5 # (multiplied by pi)
            d = 0.1547
            a = 0.0
            alpha = 0.5 # (multiplied by pi)
        }
    }
    link[]{
	      name = "Wrist Pitch"
        
        mass = .384                       # Mass of link (kg)
        com = <0.0, -0.0776, -.0657>    # Center of mass (m)
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 0
            kd = 0
            ki = 0
            max = 8191 # abs(jointTorque) is bounded to this value
        }
        
        dh{ # Denavit-Hartenberg parameters (Spong)
            theta = 0.0 # (multiplied by pi)
            d = 0.0
            a = 0.0
            alpha = -0.5 # (multiplied by pi)
        }
    }
    link[]{
	      name = "Wrist Roll"
        
        mass = 0.378                       # Mass of link (kg)
        com = <0.0, -0.0022, -0.0747>    # Center of mass (m)
        vel = 0.5                       # Default velocity
        acc = 0.5                       # Default acceleration
        
        pid{ # PID control parameters
            kp = 0
            kd = 0
            ki = 0
            max = 8191 # abs(jointTorque) is bounded to this value
        }
        
        dh{ # Denavit-Hartenberg parameters (Spong)
            theta = 0.0 # (multiplied by pi)
            d = 0.0
            a = 0.0
            alpha = 0.0 # (multiplied by pi)
        }
    }
    link[]{
        name = "Tool"
        
        mass = 0 #0.3460
        com = <0.0, 0.0, 0.00>
        
        dh{
            theta = 0.0 # (multiplied by pi)
            d = 0.0
            a = 0.0
            alpha = 0.0 # (multiplied by pi)
        }
    }
}
